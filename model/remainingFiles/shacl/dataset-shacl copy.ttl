@prefix dash: <http://datashapes.org/dash#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <http://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dataid: <http://dataid.dbpedia.org/ns/core#> .
@prefix dct:   <http://purl.org/dc/terms/> .
@prefix dcat:  <http://www.w3.org/ns/dcat#> .
@prefix dcv: <http://dataid.dbpedia.org/ns/cv#> .
# TODO
@prefix db: <https://databus.dbpedia.org/sys/ont/> .









<#en-label>   
    a sh:PropertyShape ;
    sh:severity sh:Violation ;
    sh:message "Required property rdfs:label MUST occur at least once AND have one @en " ;
    sh:path rdfs:label  ;
    sh:minCount 1 ;
    sh:languageIn ("en") ;
    sh:uniqueLang true .

<#other-label>   
    a sh:PropertyShape ;
    sh:severity sh:Violation ;
    sh:message "Required property rdfs:label MUST occur exactly once AND have xsd:string as value"@en ;
    sh:path rdfs:label ;
    sh:minCount 1 ;
    sh:datatype rdf:langString .

<#other-title>   
    a sh:PropertyShape ;
    sh:severity sh:Violation ;
    sh:message "Required property dct:title MUST occur exactly once AND have xsd:string as value" ;
    sh:path dct:title ;
    sh:minCount 1 ;
    sh:datatype rdf:langString .


<#other-abstract>   
    a sh:PropertyShape ;
    sh:severity sh:Violation ;
    sh:message "Required property dct:title MUST occur exactly once AND have xsd:string as value"@en ;
    sh:path dct:abstract ;
    sh:minCount 1 ;
    sh:datatype rdf:langString .


<#other-description>   
    a sh:PropertyShape ;
    sh:severity sh:Violation ;
    sh:message "Required property dct:title MUST occur exactly once AND have xsd:string as value"@en ;
    sh:path dct:description ;
    sh:minCount 1 ;
    sh:datatype rdf:langString .
  
###########
# Version
###########

# TODO this shape needs to occur at least once in each upload
<#dataid-dataset-tests>
    a sh:NodeShape ;
    sh:targetClass dataid:Dataset ;
    sh:property <#publisher-violation> ;
    sh:property <#license-violation> ;
    sh:and (<#en-title> <#any-title>) ;
    sh:and (<#en-abstract> <#any-abstract>) ;
    sh:and (<#en-description> <#any-description>) ;
    sh:property <#issued-violation> ;
    sh:property <#version-violation> ;
    sh:property <#distribution-violation> .







      
##################
# Distribution
##################
<#dataid-Part-tests>
    a sh:NodeShape ;
    sh:targetClass dataid:Part ;
    sh:property <#sha256sum-violation> ;
    sh:property <#signature-violation> ;
    sh:property <#downloadurl-violation> ;
    sh:property <#formatExtension-violation> ;
    sh:property <#compression-violation> ;
    sh:property <#modified-violation> . 
    # TODO  contentvariants



<#modified-violation>   
    a sh:PropertyShape ;
    sh:severity sh:Violation ;
    sh:message "Optional property dct:modified MUST occur 0 or 1 times AND have xsd:dateTime as value"@en ;
    sh:path dct:modified;
    # sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:datatype xsd:dateTime .


